<!-- Enhanced Payment Method Page -->
<style>
  .payment-option {
    transition: all 0.3s ease;
    position: relative;
  }
  
  .payment-option:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(20, 184, 166, 0.15);
  }
  
  .payment-option input[type="radio"]:checked + label {
    background: linear-gradient(135deg, #e6fffa, #ccfbf1);
    border-color: #14b8a6;
    box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.1);
  }
  
  .payment-option input[type="radio"]:checked + label::after {
    content: '';
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    background: #14b8a6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .payment-option input[type="radio"]:checked + label::before {
    content: 'âœ“';
    position: absolute;
    right: 1.4rem;
    top: 50%;
    transform: translateY(-50%);
    color: white;
    font-weight: bold;
    font-size: 12px;
    z-index: 1;
  }
</style>

<div class="bg-gradient-to-br from-white to-teal-50 shadow-xl rounded-2xl px-8 pt-8 pb-8 mb-4 border border-teal-100">
  <div class="flex items-center mb-8">
    <div class="bg-teal-100 p-4 rounded-full mr-4">
      <svg class="w-8 h-8 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
      </svg>
    </div>
    <div>
      <h2 class="text-3xl font-bold text-[#14B8A6] mb-2">Payment Methods</h2>
      <p class="text-gray-600 text-lg">Choose your preferred way to pay for rides</p>
    </div>
  </div>
  
  <div class="w-full h-1 bg-gradient-to-r from-teal-400 to-cyan-400 rounded-full mb-8"></div>
  
  <!-- Display Django Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="mb-4 p-4 rounded-xl {% if message.tags == 'success' %}bg-green-50 border border-green-200 text-green-800{% elif message.tags == 'error' %}bg-red-50 border border-red-200 text-red-800{% else %}bg-blue-50 border border-blue-200 text-blue-800{% endif %}">
        <div class="flex items-center">
          {% if message.tags == 'success' %}
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          {% elif message.tags == 'error' %}
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01"></path>
            </svg>
          {% endif %}
          {{ message }}
        </div>
      </div>
    {% endfor %}
  {% endif %}
  
  <form id="payment-form" method="post" action="{% url 'update_payment_method' %}" class="space-y-4">
    {% csrf_token %}
    
    {% for choice in form.payment_method %}
      <div class="payment-option">
        {{ choice.tag }}
        <label 
          for="{{ choice.id_for_label }}" 
          class="flex items-center p-6 border-2 border-gray-200 rounded-xl cursor-pointer transition-all duration-300 hover:border-teal-300 bg-white relative"
        >
          <div class="flex items-center">
            {% if choice.choice_label == "Credit Card" %}
              <div class="bg-blue-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
              </div>
            {% elif choice.choice_label == "Debit Card" %}
              <div class="bg-green-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
              </div>
            {% elif choice.choice_label == "Digital Wallet" %}
              <div class="bg-purple-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
              </div>
            {% elif choice.choice_label == "Cash" %}
              <div class="bg-yellow-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
              </svg>
            </div>
            {% elif choice.choice_label == "UPI" %}
              <div class="bg-indigo-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
              </div>
            {% elif choice.choice_label == "Net Banking" %}
              <div class="bg-orange-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                </svg>
              </div>
            {% else %}
              <div class="bg-gray-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
            {% endif %}
            
            <div>
              <div class="font-bold text-gray-800 text-lg">{{ choice.choice_label }}</div>
              <div class="text-sm text-gray-500">
                {% if choice.choice_label == "Credit Card" %}
                  Secure payments with your credit card
                {% elif choice.choice_label == "Debit Card" %}
                  Direct payment from your bank account
                {% elif choice.choice_label == "Digital Wallet" %}
                  Quick payments with mobile wallet
                {% elif choice.choice_label == "Cash" %}
                  Pay with cash after your ride
                {% elif choice.choice_label == "UPI" %}
                  Instant payments with UPI
                {% elif choice.choice_label == "Net Banking" %}
                  Secure online banking payments
                {% else %}
                  {{ choice.choice_label }} payment method
                {% endif %}
              </div>
            </div>
          </div>
        </label>
      </div>
    {% endfor %}
    
    <div class="pt-6">
      <button 
        type="submit" 
        class="w-full bg-gradient-to-r from-[#14B8A6] to-[#0D9488] hover:from-[#0D9488] hover:to-[#0F766E] 
               text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl 
               transform hover:-translate-y-1 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-teal-300"
      >
        <span class="flex items-center justify-center text-lg">
          <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          Save Payment Preference
        </span>
      </button>
    </div>
  </form>

  <div class="mt-6 p-4 bg-teal-50 rounded-xl border border-teal-200">
    <div class="flex items-start">
      <svg class="w-5 h-5 text-teal-600 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a3 3 0 00-3 3v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
      </svg>
      <div>
        <h4 class="font-semibold text-teal-800 mb-1">Secure Payments</h4>
        <p class="text-sm text-teal-700">Your payment information is encrypted and secure. You can change your preferred method anytime.</p>
      </div>
    </div>
  </div>
</div>
