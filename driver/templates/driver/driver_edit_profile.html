{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile - Hospione</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Raleway:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'passenger/css/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #0f766e 0%, #14b8a6 50%, #5eead4 100%);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }
        .form-input {
            transition: all 0.3s ease;
        }
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(20, 184, 166, 0.3);
        }
        .floating-label {
            transition: all 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15);
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-in {
            animation: slideIn 0.8s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .profile-icon {
            background: linear-gradient(135deg, #14b8a6, #0f766e);
            box-shadow: 0 8px 32px rgba(20, 184, 166, 0.3);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 via-teal-50 to-cyan-50 min-h-screen">

  <!-- Animated Background Elements -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-cyan-400/20 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-tr from-teal-300/20 to-emerald-300/20 rounded-full blur-3xl"></div>
  </div>

  <!-- Header -->
  <header class="relative glass-effect border-b border-white/20 backdrop-blur-xl">
    <div class="max-w-7xl mx-auto px-4 py-6">
      <div class="flex justify-between items-center">
        <div class="flex items-center space-x-4 animate-slide-in">
          <div class="profile-icon w-12 h-12 rounded-xl flex items-center justify-center transform hover:scale-110 transition-all duration-300">
            <i class="fas fa-car text-white text-xl"></i>
          </div>
          <div>
            <span class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-600 via-teal-500 to-cyan-500">Hospione</span>
            <p class="text-sm text-gray-600 font-medium">Driver Dashboard</p>
          </div>
        </div>
        <a href="{% url 'driver:driver_profile' driver.driver_id %}" 
           class="bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-3 rounded-xl hover:from-teal-700 hover:to-teal-800 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center space-x-2 group">
          <i class="fas fa-arrow-left group-hover:-translate-x-1 transition-transform duration-300"></i>
          <span class="font-semibold">Back to Profile</span>
        </a>
      </div>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-12 relative z-10">

    <!-- Success Banner -->
    {% if messages %}
      {% for message in messages %}
        <div class="mb-8 animate-fade-in">
          <div class="p-5 rounded-2xl border border-green-200 {% if message.tags == 'success' %}bg-gradient-to-r from-green-50 to-emerald-50 text-green-800{% endif %} shadow-lg">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                <i class="fas fa-check text-white text-sm"></i>
              </div>
              <span class="font-semibold">{{ message }}</span>
            </div>
          </div>
        </div>
      {% endfor %}
    {% endif %}

    <!-- Edit Profile Card -->
    <section class="glass-effect shadow-2xl rounded-3xl overflow-hidden animate-fade-in hover-lift transition-all duration-500 border border-white/20">
      
      <!-- Header Section -->
      <div class="gradient-bg px-8 py-8 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-black/10"></div>
        <div class="relative z-10 flex items-center space-x-4">
          <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm">
            <i class="fas fa-user-edit text-2xl"></i>
          </div>
          <div>
            <h2 class="text-3xl font-bold mb-2">Edit Your Profile</h2>
            <p class="text-teal-100 font-medium">Update your personal information</p>
          </div>
        </div>
        <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"></div>
        <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full -ml-12 -mb-12"></div>
      </div>

      <!-- Form Section -->
      <div class="p-8">
        <form method="post" class="space-y-8">
          {% csrf_token %}
          
          <!-- Name Fields -->
          <div class="grid sm:grid-cols-2 gap-8">
            <div class="space-y-3 group">
              <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
                <i class="fas fa-user mr-2"></i>First Name
              </label>
              <div class="relative">
                {{ form.first_name|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
              </div>
            </div>
            <div class="space-y-3 group">
              <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
                <i class="fas fa-user mr-2"></i>Last Name
              </label>
              <div class="relative">
                {{ form.last_name|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
              </div>
            </div>
          </div>

          <!-- Phone Field -->
          <div class="space-y-3 group">
            <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
              <i class="fas fa-phone mr-2"></i>Phone Number
            </label>
            <div class="relative">
              {{ form.phone|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
            </div>
          </div>

          <!-- Location Fields -->
          <div class="grid sm:grid-cols-2 gap-8">
            <div class="space-y-3 group">
              <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
                <i class="fas fa-map-marker-alt mr-2"></i>State
              </label>
              <div class="relative">
                {{ form.state|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
              </div>
            </div>
            <div class="space-y-3 group">
              <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
                <i class="fas fa-city mr-2"></i>City
              </label>
              <div class="relative">
                {{ form.city|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
              </div>
            </div>
          </div>

          <!-- Address Field -->
          <div class="space-y-3 group">
            <label class="block text-sm font-semibold text-gray-700 floating-label group-focus-within:text-teal-600 transition-colors duration-300">
              <i class="fas fa-home mr-2"></i>Full Address
            </label>
            <div class="relative">
              {{ form.full_address|add_class:"form-input w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:ring-0 focus:outline-none bg-gray-50 focus:bg-white font-medium placeholder-gray-400" }}
            </div>
          </div>

          <!-- Submit Button -->
          <div class="pt-6">
            <button type="submit" class="group w-full bg-gradient-to-r from-teal-600 via-teal-700 to-cyan-700 text-white py-5 px-8 rounded-2xl hover:from-teal-700 hover:via-teal-800 hover:to-cyan-800 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-[1.02] transition-all duration-300 relative overflow-hidden">
              <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <span class="relative flex items-center justify-center space-x-3">
                <i class="fas fa-save text-xl"></i>
                <span>Save Changes</span>
                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
              </span>
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Additional Info Card -->
    <div class="mt-8 glass-effect rounded-2xl p-6 border border-white/20 animate-fade-in">
      <div class="flex items-center space-x-4">
        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center">
          <i class="fas fa-info-circle text-white"></i>
        </div>
        <div>
          <h3 class="font-bold text-gray-800 mb-1">Profile Tips</h3>
          <p class="text-gray-600 text-sm">Keep your information up-to-date to provide the best service to your passengers.</p>
        </div>
      </div>
    </div>

  </main>

  <!-- Enhanced Footer -->
  <footer class="relative mt-20 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-white overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-teal-600/10 to-cyan-600/10"></div>
    <div class="relative z-10 max-w-7xl mx-auto px-4 py-12">
      <div class="text-center">
        <div class="flex justify-center items-center mb-6">
          <div class="profile-icon w-14 h-14 rounded-2xl flex items-center justify-center">
            <i class="fas fa-car text-white text-2xl"></i>
          </div>
          <span class="ml-4 text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400">Hospione</span>
        </div>
        <div class="flex justify-center space-x-8 mb-6">
          <a href="#" class="text-gray-400 hover:text-teal-400 transition-colors duration-300">
            <i class="fab fa-facebook-f text-xl"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-teal-400 transition-colors duration-300">
            <i class="fab fa-twitter text-xl"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-teal-400 transition-colors duration-300">
            <i class="fab fa-instagram text-xl"></i>
          </a>
        </div>
        <p class="text-sm text-gray-400">&copy; 2025 Hospione. All rights reserved. | Connecting Drivers & Passengers</p>
      </div>
    </div>
  </footer>

</body>
</html>
